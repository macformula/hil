# The SIL Application

## Introduction

The `macfe/hil` package is a software-in-the-loop testing package developed in Go.
This tutorial will walkthrough the process of using this package to test firmware application. This walkthrough assumes you are working in a Linux environment.
We will build a suite of SIL tests for the following firmware code:

```c++
int main(void) {
    bindings::Initialize();

    while (1) {
        btn_value = bindings::button_di.Read();
        bindings::indicator_do.Set(btn_value);
    }

    return 0;
}
```

In `main`, we read in a digital input from a button then set an indicator led to match the input.
Although this is simple example, it will demonstrate how to leverage the `macfe/hil` package to validate firmware code.


## Dependencies

TODO

## File structure

To start, create an empty directory to hold all of your SIL related files. We will call it `sil`. Set up the `sil` directory to have this file structure. 

```
sil
├─ config
├─ cmd
├─ ecu
├─ pinout
├─ state
└─ results
    └─ logs
```

Open a terminal in the `sil` directory and run this command, replacing the argument with a path to your git repository:

## Initializing our module

```bash
go mod init github.com/example/repo
```

This will mark our directory as a Go module and create a `go.mod` file to track our dependencies. Let's create our module's `main` function inside the `sil/cmd` directory. 

```go
package main

func main() {

}
```

This `main` function will be the entry point to our entire SIL application.